apiVersion: hazelcast.com/v1alpha1
kind: HazelcastEnterprise
metadata:
  name: my-cluster
spec:
  cluster:
    memberCount: 3

  mancenter:
    # ingress configuration for mancenter
    ingress:
      enabled: true
    persistence:
      size: 1Gi

  hazelcast:
    licenseKeySecretName: hz-license-key-secret

    hot-restart-persistence:
      enabled: ${hazelcast.hotRestart}
      base-dir: /data/hot-restart
      validation-timeout-seconds: 1200
      data-load-timeout-seconds: 900
      auto-remove-stale-data: true
    management-center:
      enabled: ${hazelcast.mancenter.enabled}
      url: ${hazelcast.mancenter.url}

    yaml:
      hazelcast:
        map:
          default:
            # Data type that will be used for storing recordMap.
            # Possible values:
            # BINARY (default): keys and values will be stored as binary data
            # OBJECT : values will be stored in their object forms
            # NATIVE : values will be stored in non-heap region of JVM
            in-memory-format: NATIVE
        serialization:
          allow-override-default-serializers: true
        client:
          statistics:
            enabled: true
        enabled: true
        cluster-name: my-cluster
        native-memory:
          enabled: true
          allocator-type: STANDARD
          size:
            unit: GIGABYTES
            value: 2
          min-block-size: 128
          page-size: 123
          metadata-space-percentage: 12.5
        network:
          join:
            multicast:
              enabled: false
            kubernetes:
              enabled: true
              service-name: ${serviceName}
              namespace: ${namespace}
              resolve-not-ready-addresses: true

  securityContext:
    enabled: true
    runAsUser: '1000590000'
    fsGroup: '1000590000'
